{% from 'forms/attrs.jinja' import form_attrs %}

{% macro password(name='password', value=None, model="password", attrs={}) %}
    <div class="absolute inset-y-0 right-0 pr-9 flex items-center cursor-pointer"
        @click="type='password'"
        x-cloak
        x-show="type==='text'">
        {{ heroicon_outline("eye-off", class="w-6 h-6") }}
    </div>
    <div class="absolute inset-y-0 right-0 pr-9 flex items-center cursor-pointer"
        @click="type='text'"
        x-show="type==='password'">
        {{ heroicon_outline("eye", class="w-6 h-6") }}
    </div>
    <input :type="type"
        name="{{ name }}"
        x-init="type = 'password' "
        x-model="{{ model }}"
        {% if value != None %} value="{{ value }}"{% endif %}
        {{form_attrs(attrs)}}>
{% endmacro %}

{% macro widget_to_password(widget) %}
    {{password(name=widget.name, value=widget.value, model=widget.attrs.id, attrs=widget.attrs )}}
{% endmacro %}
