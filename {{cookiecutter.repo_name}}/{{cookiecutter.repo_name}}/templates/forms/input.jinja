{% from 'components/util.jinja' import attributes %}
{% macro input(type="text", name=none, value=none, event_name="", color='primary', attrs={}, left_icon='', right_icon='', input_classes="") %}
    {% set disabled, readonly = attrs.disabled, attrs.readonly %}
    {% set noedit = disabled or readonly %}
    <div x-data="input('update-{{ event_name | replace('_', '-') }}', '{{ value }}')"
        x-ref="input"
        :class="active ? 'has-focus' : ''"
         class="w-full input">
        <input @focus="updateFlag" @blur="updateFlag" x-model.debounce.500ms="value" class="{{ input_classes }}" {% do attrs.update({"type": type, "name": name, "value": value}) %} {{ attributes(attrs)}} />
    </div>
{% endmacro %}
{# takes a django widget and calls our input macro with the appropriate args #}
{% macro widget_to_input(widget) %}
    {{ input(type=widget.type, name=widget.name, value=widget.value, event_name=widget.attrs.id, attrs=widget.attrs )}}
{% endmacro %}
