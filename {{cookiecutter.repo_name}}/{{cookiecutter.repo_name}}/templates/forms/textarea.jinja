{% from 'components/util.jinja' import attributes, get_event_name_from_id %}

{% macro textarea_field(field, errors) %}
    {{ field }}
{% endmacro %}

{% macro textarea_widget(widget) %}
    {% set attrs = widget.attrs %}
    {% do attrs.update({"type": widget.type, "name": widget.name, "value": widget.value or ""}) %}
    {% set event_name = get_event_name_from_id(widget.attrs.id) %}
    <div class="flex flex-col">
    </div>

    <div x-data="input('{{ event_name }}', '{{ widget.value or ""}}')"
        :class="active ? 'has-focus' : ''"
        x-ref="input"
         class="w-full input">
        <textarea
            x-model.debounce.500ms="value"
            {{ attributes(attrs)}}
        >
            {% if widget.value %}{{widget.value}}{% endif %}
        </textarea>
    </div>
{% endmacro %}
