{% set default_open %}
<button>Button</button>
{% endset %}
{% macro flyout(opener=default_open, menu_items=['Link 1', 'Link 2', 'Link 3', 'Link 4']) %}
    <div class="flex items-center justify-center">
        <div class="relative"
             x-data="{ open: false, focus: false }"
             @keydown.escape="onEscape"
             @close-popover-group.window="onClosePopoverGroup">
            <span @click="open = !open">{{ opener }}</span>
            <div x-show="open"
                 x-transition:enter="transition ease-out duration-200"
                 x-transition:enter-start="opacity-0 translate-y-1"
                 x-transition:enter-end="opacity-100 translate-y-0"
                 x-transition:leave="transition ease-in duration-150"
                 x-transition:leave-start="opacity-100 translate-y-0"
                 x-transition:leave-end="opacity-0 translate-y-1"
                 x-description="Flyout menu, show/hide based on flyout menu state."
                 class="absolute z-10 left-1/2 transform -translate-x-1/2 mt-3 px-2 w-screen max-w-xs sm:px-0"
                 x-ref="panel"
                 @click.away="open = false">
                <div class="rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 overflow-hidden gap-1 p-1 bg-white">
                    <div class="relative grid p-1">
                        {% for menu_item in menu_items %}
                            <a {% if 'href' in menu_item %}href="{{ menu_item.href }}"{% else %}href="#"{% endif %}
                               class="px-4 py-3 block rounded-md hover:bg-gray-300 transition ease-in-out duration-150">
                                {% if 'item' in menu_item %}
                                    {{ menu_item.item }}
                                {% else %}
                                    {{ menu_item }}
                                {% endif %}
                            </a>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endmacro %}
